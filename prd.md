verstanden üëç ‚Äî hier ein **Product Requirements Document (PRD)** f√ºr deinen *How-to Generator f√ºr SaaS*, basierend auf unserer bisherigen Architektur-Diskussion:

---

# Product Requirements Document (PRD)

**Produktname:** HowTo Generator
**Version:** 0.1 (MVP)
**Autor:** \[dein Name]
**Datum:** \[heute]

---

## 1. Ziel & Vision

Ein Tool, das aus einer Markdown-Datei mit deklarativen Schritten (`steps` im Frontmatter) automatisch **How-to Guides** erzeugt:

* Screenshots werden bei der Ausf√ºhrung aufgenommen.
* Die Ergebnisse (Steps + Bilder) werden direkt in das Markdown-Dokument integriert.
* Sp√§ter erweiterbar mit Video, Voiceover, Multilingualit√§t.

**Vision:**
Reduzierung von manuellem Doku-Aufwand in SaaS-Produkten: Entwickler\:innen & PMs schreiben nur einen kompakten Workflow ‚Üí Tool erzeugt ausf√ºhrbare UI-Tests + leicht konsumierbare Doku.

---

## 2. Zielgruppe

* **SaaS Teams** (Product, Tech Docs, Support)
* **Customer Success / Onboarding** (automatische Schritt-f√ºr-Schritt Guides)
* **QA/Test Automation** (Doku und Test aus einer Quelle)

---

## 3. Use Cases

1. **Onboarding Guide**: ‚ÄúWie logge ich mich ein?‚Äù ‚Üí Schrittfolge + Screenshots ‚Üí Markdown Guide f√ºr Doku-Portal.
2. **Release Notes**: Neue Funktion zeigen ‚Üí Workflow dokumentieren, Screenshots auto-generiert.
3. **Support**: Reproduzierbare Fehlerbeschreibungen mit Steps & Screenshots.
4. **Test-Doku-Sync**: Akzeptanztests laufen lassen und gleichzeitig Kunden-Doku generieren.

---

## 4. Funktionsumfang (MVP)

### 4.1 Input

* **Markdown mit YAML-Frontmatter**

  * Pflichtfelder: `title`, `baseUrl`, `steps`
  * Optional: `language`, `outputDir`, `tags`
* **Steps (Frontmatter)**

  * `goto`, `type`, `click`, `assert` (MVP)
  * Parameter: `label`, `url`, `value`, `sensitive`, `note`

### 4.2 Execution

* Headless/Headful Browser via **Playwright**
* Jeder Step ‚Üí Screenshot (`step-XX.png`)
* `sensitive: true` ‚Üí Maskierung im Screenshot

### 4.3 Output

* **Markdown-Guide** (Original Body + integrierter Steps-Block)

  * Platzhalter: `<!-- STEPS:AUTOGENERATED -->` ‚Üí ersetzt durch generierten Block
  * Jeder Step: Titel, kurze Beschreibung, Screenshot
* **Screenshots-Ordner** (`screenshots/`)
* **Optionale Logs** (JSON mit Step-Resultaten)

### 4.4 CLI

* `howto run guide.md [--out dist/] [--headful] [--dry-run]`
* Ergebnis: aktualisiertes `guide.md` im Zielordner + Screenshots

---

## 5. Nice-to-Have (Post-MVP)

* Video Recording (pro Run, optional SRT Captions)
* Mehrsprachige Generierung (`language` Feld steuert Output)
* Erweiterte Steps (`hover`, `select`, `upload`, `drag`)
* LLM-basierte Locator-Resolution (Phase B)
* CI/CD Integration (GitHub Action)
* Export nach Confluence/Notion/Docusaurus

---

## 6. Nicht-Ziele (vorerst)

* Kein vollwertiger Test-Runner (nur Basis-Asserts)
* Keine Benutzerinteraktion im Lauf (kein Captcha/2FA Handling)
* Kein visuelles Editor-Frontend (nur CLI)

---

## 7. Erfolgskriterien

* **Time to Guide:** < 1 Minute von Workflow bis Markdown-Guide
* **Automatisierte Screenshots:** jeder Step hat ein Bild
* **Deterministischer Output:** gleiche Steps ‚Üí gleiche Screenshots/Pfade
* **Usability:** Markdown f√ºr Menschen lesbar, auch ohne Tool ausf√ºhrbar

---

## 8. Architektur (High Level)

* **Parser:** Frontmatter & Body trennen
* **Validator:** Steps pr√ºfen, Defaults setzen
* **Runner:** Playwright-Orchestrierung, Screenshots speichern
* **Artifact Manager:** Screenshots organisieren
* **Renderer:** Steps-Block in Markdown generieren
* **Injector:** Platzhalter im Body ersetzen
* **Writer:** finale Dateien ausgeben

---

## 9. Abh√§ngigkeiten

* Node.js ‚â• 20
* Playwright
* gray-matter, js-yaml (Frontmatter Parser)
* commander (CLI)

---

## 10. Risiken & Mitigation

* **Unklare Selector-Aufl√∂sung** ‚Üí MVP nutzt heuristische Locators (byLabel, byRole, byText). Sp√§ter LLM.
* **UI √Ñnderungen brechen Steps** ‚Üí Screenshots & Errors dokumentieren; Mensch kann nachbessern.
* **Sensitive Data Leakage** ‚Üí `sensitive: true` erzwingt Maskierung.
* **CI Stabilit√§t** ‚Üí Headless, feste Viewport-Gr√∂√üe, `waitForLoadState`.

---

## 11. Timeline (grober Vorschlag)

* **Woche 1:** Parser + Validator + Runner Basic (goto, type, click, assert)
* **Woche 2:** Screenshot Integration + Artifact Manager + Renderer/Injector
* **Woche 3:** CLI, Logging, Output-Ordner, MVP fertig
* **Post-MVP:** Video, LLM-Resolver, Multi-Language, CI/CD

---

üëâ Soll ich dir im n√§chsten Schritt ein **User Flow Diagramm** (vom Markdown Input bis zum finalen Guide mit Screenshots) dazu malen, um das PRD zu visualisieren?
